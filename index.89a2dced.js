var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);const a=document.querySelector(".search-inp"),o=document.querySelector(".search-btn"),l=document.querySelector(".main-container"),r=document.querySelector("#load-more-btn"),s=document.getElementById("anime-select"),c=document.getElementById("go-back-btn"),d={position:"center-center",borderRadius:"5px",cssAnimationStyle:"from-bottom",clickToClose:!0};var m=i("iQIUW"),p=i("gGywM");m=i("iQIUW");let u,g,f,h,v=JSON.parse(localStorage.getItem("myList"))||[];function b(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest(".add-button"),n=e.target.closest(".anime-card");if(!t)return;const i=n.dataset.animeId,a=v.some((e=>String(e.mal_id)===i));console.log(v),a?m.Notify.info("You already added this anime to your list",{position:"center-top",borderRadius:"5px",cssAnimationStyle:"from-bottom",clickToClose:!0}):(u=`https://api.jikan.moe/v4/anime/${i}`,fetch(u).then((e=>e.json())).then((e=>{let t=e.data;v.push(t),localStorage.setItem("myList",JSON.stringify(v)),m.Notify.info("Added!",{position:"center-top",borderRadius:"5px",cssAnimationStyle:"from-bottom",clickToClose:!0})})))}let y=1;let L="anime";const k=new URLSearchParams({limit:24,page:y});let $=`https://api.jikan.moe/v4/anime?${k}`;function T(e,t){fetch(t).then((e=>e.json())).then((t=>{var n,i;n=t.data,i=e,0===n.length?(l.innerHTML='<h2 class="nothing-heading">Nothing was found</h2>',r.classList.replace("load-more-btn","not-visible"),m.Notify.failure("Try better loser",d)):(n.forEach((e=>{i(e)})),n.length>=24?r.classList.replace("not-visible","load-more-btn"):r.classList.replace("load-more-btn","not-visible"))})).catch((e=>m.Notify.info("Error:",e)))}function j(e){let{title:t,title_english:n,images:i,mal_id:a}=e;let o=`\n  <div class="anime-card" data-anime-id="${a}">\n   <img class="anime-image-small" src="${i.jpg.large_image_url}" alt="${t}" />\n   <h3 class="anime-small-heading">${null===n?t:n}</h3> \n   <button class="add-button">+</button>\n  </div>\n  `;l.insertAdjacentHTML("beforeend",o)}T(j,$),r.addEventListener("click",(e=>{let t;e.preventDefault(),y+=1,k.set("page",y),"anime"===L?t=`https://api.jikan.moe/v4/anime?${k}`:"genre"===L?t=`https://api.jikan.moe/v4/anime?genres=${g}&${k}`:"name"===L&&(t=`https://api.jikan.moe/v4/anime?${k}&q=${f}`),console.log(t),T(j,t)})),fetch("https://api.jikan.moe/v4/genres/anime").then((e=>e.json())).then((e=>{const t=e.data.map((e=>`<option value='${e.mal_id}'>${e.name}</option>`));s.insertAdjacentHTML("afterbegin",t)})).catch((e=>console.log("Error:",e))),s.addEventListener("change",(async e=>{g=+e.currentTarget.value,$=`https://api.jikan.moe/v4/anime?genres=${g}&${k}`,L="genre",l.innerHTML="",T(j,$),c.classList.replace("not-visible","go-back-btn")})),o.addEventListener("click",(e=>{e.preventDefault(),L="name",clearTimeout(h),h=setTimeout((function(){f=a.value.trim(),$=`https://api.jikan.moe/v4/anime?${k}&q=${f}`,""!==f&&(y=1,l.innerHTML="",T(j,$),c.classList.replace("not-visible","go-back-btn"))}),1e3)})),c.addEventListener("click",(e=>{e.preventDefault(),$=`https://api.jikan.moe/v4/anime?${k}`,s.value=document.querySelector(".anime-select-option").value,a.value="",l.innerHTML="",T(j,$),c.classList.replace("go-back-btn","not-visible")})),l.addEventListener("click",p.openBigCard),l.addEventListener("click",b),l.addEventListener("click",b);
//# sourceMappingURL=index.89a2dced.js.map

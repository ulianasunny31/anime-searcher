var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);const a=document.querySelector(".search-inp"),o=document.querySelector(".search-btn"),l=document.querySelector(".main-container"),r=document.querySelector("#load-more-btn"),s=document.getElementById("anime-select"),c=document.getElementById("go-back-btn"),d={position:"center-center",borderRadius:"5px",cssAnimationStyle:"from-bottom",clickToClose:!0};var m=i("iQIUW"),p=i("gGywM");m=i("iQIUW");let u,g,f,h=JSON.parse(localStorage.getItem("myList"))||[];function v(e){e.preventDefault(),e.stopPropagation();const t=e.target.closest(".add-button"),n=e.target.closest(".anime-card");if(!t)return;const i=n.dataset.animeId,a=h.some((e=>String(e.mal_id)===i));console.log(h),a?m.Notify.info("You already added this anime to your list",{position:"center-top",borderRadius:"5px",cssAnimationStyle:"from-bottom",clickToClose:!0}):(url=`https://api.jikan.moe/v4/anime/${i}`,fetch(url).then((e=>e.json())).then((e=>{let t=e.data;h.push(t),localStorage.setItem("myList",JSON.stringify(h)),m.Notify.info("Added!",{position:"center-top",borderRadius:"5px",cssAnimationStyle:"from-bottom",clickToClose:!0})})))}let b=1;let y="anime";const L=new URLSearchParams({limit:24,page:b});let k=`https://api.jikan.moe/v4/anime?${L}`;function $(e,t){fetch(t).then((e=>e.json())).then((t=>{var n,i;n=t.data,i=e,0===n.length?(l.innerHTML='<h2 class="nothing-heading">Nothing was found</h2>',r.classList.replace("load-more-btn","not-visible"),m.Notify.failure("Try better loser",d)):(n.forEach((e=>{i(e)})),n.length>=24?r.classList.replace("not-visible","load-more-btn"):r.classList.replace("load-more-btn","not-visible"))})).catch((e=>m.Notify.info("Error:",e)))}function T(e){let{title:t,title_english:n,images:i,mal_id:a}=e;let o=`\n  <div class="anime-card" data-anime-id="${a}">\n   <img class="anime-image-small" src="${i.jpg.large_image_url}" alt="${t}" />\n   <h3 class="anime-small-heading">${null===n?t:n}</h3> \n   <button class="add-button">+</button>\n  </div>\n  `;l.insertAdjacentHTML("beforeend",o)}$(T,k),r.addEventListener("click",(e=>{let t;e.preventDefault(),b+=1,L.set("page",b),"anime"===y?t=`https://api.jikan.moe/v4/anime?${L}`:"genre"===y?t=`https://api.jikan.moe/v4/anime?genres=${u}&${L}`:"name"===y&&(t=`https://api.jikan.moe/v4/anime?${L}&q=${g}`),console.log(t),$(T,t)})),fetch("https://api.jikan.moe/v4/genres/anime").then((e=>e.json())).then((e=>{const t=e.data.map((e=>`<option value='${e.mal_id}'>${e.name}</option>`));s.insertAdjacentHTML("afterbegin",t)})).catch((e=>console.log("Error:",e))),s.addEventListener("change",(async e=>{u=+e.currentTarget.value,k=`https://api.jikan.moe/v4/anime?genres=${u}&${L}`,y="genre",l.innerHTML="",$(T,k),c.classList.replace("not-visible","go-back-btn")})),o.addEventListener("click",(e=>{e.preventDefault(),y="name",clearTimeout(f),f=setTimeout((function(){g=a.value.trim(),k=`https://api.jikan.moe/v4/anime?${L}&q=${g}`,""!==g&&(b=1,l.innerHTML="",$(T,k),c.classList.replace("not-visible","go-back-btn"))}),1e3)})),c.addEventListener("click",(e=>{e.preventDefault(),k=`https://api.jikan.moe/v4/anime?${L}`,s.value=document.querySelector(".anime-select-option").value,a.value="",l.innerHTML="",$(T,k),c.classList.replace("go-back-btn","not-visible")})),l.addEventListener("click",p.openBigCard),l.addEventListener("click",v),l.addEventListener("click",v);
//# sourceMappingURL=index.932daeaf.js.map
